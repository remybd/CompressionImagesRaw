tp_v2.py